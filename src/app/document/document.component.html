<mat-drawer-container autosize>
  <mat-drawer #drawer class="right-side-drawer" mode="overlay" position='end'>
    <div>
      <mat-toolbar fxLayout="row wrap" fxLayoutAlign="space-between center" class="header">
        <div>
          More Filter Options
        </div>
        <div class="header-buttons">
          <button mat-icon-button (click)="drawer.close()" class="close-button">
            <mat-icon>close</mat-icon>
          </button>
        </div>
      </mat-toolbar>
      <div class="drawer-data" fxLayout="column">
        <mat-form-field class='form-rows' appearance="outline" fxFill>
          <mat-label>Tenent Filter</mat-label>
          <mat-select [(ngModel)]="selectedTenentType" disableRipple (selectionChange)="selectTenent($event.value)">
            <mat-option *ngFor="let doc of tenentList" [value]="doc._id">{{
              doc.Name
              }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline" fxFill>
          <mat-label>Status</mat-label>
          <mat-select disableRipple (selectionChange)="selectStatus($event.value)" [(ngModel)]="selectedDocStatus">
            <mat-option *ngFor="let status of statusColumn" [value]="status.value">{{
              status.name
              }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div fxLayout="row wrap" fxLayoutAlign="center center">
          <button mat-button class="clear-button" type="submit" (click)="clear()">
            Clear
          </button>
        </div>
      </div>
    </div>
  </mat-drawer>
  <mat-drawer-content>
    <mat-toolbar class="header">
      <span>Document</span>
    </mat-toolbar>
    <div class="document-wrap" fxLayout="column" fxLayoutAlign="start start">
      <div fxLayout="row wrap" fxLayoutAlign="space-between start" fxFill>
        <mat-form-field class='form-rows' appearance="outline">
          <mat-label>Document Id</mat-label>
          <mat-select disableRipple (selectionChange)="selectDocsType($event.value)">
            <mat-option *ngFor="let doc of selectdocumentType" [value]="doc.value">
              {{doc.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline" fxFlex>
          <input class="search-field1" matInput [disabled]="disabled" (keyup)="applyFilter($event)"
            placeholder="Filter text" #input />
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Date</mat-label>
          <mat-date-range-input [rangePicker]="picker">
            <input matStartDate placeholder="Start date" [(ngModel)]="startDate"
              (dateChange)="selectDate1($event.target.value)">
            <input matEndDate placeholder="End date" [(ngModel)]="endDate"
              (dateChange)="selectDate2($event.target.value)">
          </mat-date-range-input>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>
        <button mat-stroked-button (click)="drawer.open()">
          <mat-icon>tune</mat-icon>
          More
        </button>
        <button mat-stroked-button (click)="clear()">
          Clear
        </button>
      </div>
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z2" fxFlex="100" fxFill>
        <ng-container matColumnDef="doc-scan-id">
          <th mat-header-cell *matHeaderCellDef>Document Id and Scan Id</th>
          <td mat-cell *matCellDef="let document">
            <div class="data-wrap">
              <div class="title">Document Id</div>
              <div class="value">{{ document.Document_ID.Document_ID }}</div>
            </div>
            <div class="data-wrap">
              <div class="title">Scan Id</div>
              <div class="value">{{ document.Scan_ID }}</div>
            </div>
          </td>
        </ng-container>
        <ng-container matColumnDef="date-time">
          <th mat-header-cell *matHeaderCellDef>Created Date and Time</th>
          <td mat-cell *matCellDef="let document">
            <div class="data-wrap">
              <div class="title">Created At</div>
              <div class="value">
                {{ document.createdAt | date: "mediumDate" }}
              </div>
            </div>
            <div class="data-wrap">
              <div class="title">Created time</div>
              <div class="value">
                {{ document.updatedAt | date: "mediumTime" }}
              </div>
            </div>
          </td>
        </ng-container>
        <ng-container matColumnDef="name-nationality">
          <th mat-header-cell *matHeaderCellDef>Name and Nationality</th>
          <td mat-cell *matCellDef="let document">
            <div class="data-wrap">
              <div class="title">Name</div>
              <div class="value">
                {{ document.firstName }} {{ document.lastName }}
              </div>
            </div>
            <div class="data-wrap">
              <div class="title">Nationality</div>
              <div class="value">{{ document.Document_ID.Nationality }}</div>
            </div>
          </td>
        </ng-container>
        <ng-container matColumnDef="tenent-id">
          <th mat-header-cell *matHeaderCellDef>Tenent Name</th>
          <td mat-cell *matCellDef="let document">
            <div class="data-wrap">
              <div class="title">Tenent Name</div>
              <div class="value">{{ document.Tenant_ID.Name }}</div>
            </div>
          </td>
        </ng-container>
        <ng-container matColumnDef="status-date">
          <th mat-header-cell *matHeaderCellDef>Status and Date</th>
          <td mat-cell *matCellDef="let document">
            <div fxLayout="row" fxLayoutAlign="start center">
              <div class="status-icon {{ document.Status | lowercase }}">
                <mat-icon>{{ document.icon }}</mat-icon>
              </div>
              <div class="data-wrap">
                <div class="value">{{ document.scanResultStatus }}</div>
                <div class="value">
                  {{ document.createdAt | date: "mediumDate" }}
                </div>
              </div>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns" class="cursor-pointer"
          (click)="moreDetails(row.Document_ID._id)"></tr>
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="5">No record found</td>
        </tr>
      </table>
      <mat-paginator class="mat-elevation-z2" [pageSizeOptions]="pageSizeOptions" showFirstLastButtons fxFill>
      </mat-paginator>
    </div>
  </mat-drawer-content>
</mat-drawer-container>